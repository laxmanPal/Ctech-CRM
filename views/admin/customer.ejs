<%- include("../includes/head.ejs") %>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.3/css/dataTables.bootstrap4.min.css">
<%- include("../includes/header.ejs") %>
<%- include("../includes/sidebar.ejs") %>
<div class="contents">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div
            class="breadcrumb-main user-member justify-content-sm-between"
          >
            <div
              class="d-flex flex-wrap justify-content-center breadcrumb-main__wrapper"
            >
              <div
                class="d-flex align-items-center user-member__title justify-content-center me-sm-25"
              >
                <h4 class="text-capitalize fw-500 breadcrumb-title">
                  Customer list 
                </h4>
                
              </div>
            </div>
            <div class="action-btn">
              <a
                href="/admin/add-customer"
                class="btn px-15 btn-primary"
              >
              <i class="uil uil-plus"></i>Add Customer</a
              >
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <div
            class="userDatatable global-shadow border-light-0 p-30 bg-white radius-xl w-100 mb-30"
          >
            <div class="table-responsive">
              <table id="datatables" class="table mb-0 table-borderless">
                <thead>
                  <tr class="userDatatable-header">
                    <th>
                      <span class="userDatatable-title">Sr No</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Unique Id</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Customer Name</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Email</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Mobile</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Company Name</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">City</span>
                    </th>
                    <th>
                        <span class="userDatatable-title">Pin Code</span>
                    </th>
                    <th>
                      <span class="userDatatable-title">Created On</span>
                  </th>
                    <th>
                      <span class="userDatatable-title float-end"
                        >action</span
                      >
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <% let srNo = 1; %>
                  <% for (let customer of customers) { %>
                  <tr>
                    <td>
                      <div class="userDatatable-content">
                        <%= srNo++ %>
                      </div>
                    </td>
                    <td>
                      <div class="userDatatable-content">
                       <%= customer.cust_uni_id %>
                      </div>
                    </td>
                    <td>
                      <div class="userDatatable-content">
                       <%= customer.name %>
                      </div>
                    </td>
                    <td>
                      <div class="userDatatable-content">
                        <%= customer.email %>
                      </div>
                    </td>
                    <td>
                      <div class="userDatatable-content"><%= customer.phone_1 %></div>
                    </td>
                    <td>
                      <div class="userDatatable-content">
                        <%= customer.comp_name %>
                      </div>
                    </td>
                    <td>
                        <div class="userDatatable-content d-inline-block">
                          <%= customer.city %>
                        </div>
                      </td>
                      <td>
                        <div class="userDatatable-content d-inline-block">
                          <%= customer.pincode %>
                        </div>
                      </td>
                      <td>
                        <div class="userDatatable-content d-inline-block">
                          <%= new Date(customer.createdAt).toLocaleDateString('en-US') %>
                        </div>
                      </td>
                    <td>
                      <ul
                        class="orderDatatable_actions mb-0 d-flex flex-wrap"
                      >
                      <li>
                        <a href="cust_details/<%= customer.id %>" class="view">
                          <i class="uil uil-eye"></i>
                        </a>
                      </li>
                        <li>
                          <a href="edit-customer/<%= customer.id %>" class="edit">
                            <i class="uil uil-edit"></i>
                          </a>
                        </li>
                        <li>
                          <a href="remove-customer/<%= customer.id %>" class="remove">
                            <i class="uil uil-trash-alt"></i>
                          </a>
                        </li>
                      </ul>
                    </td>
                  </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
            <!-- <div class="d-flex justify-content-end pt-30">
              <nav class="dm-page">
                <ul class="dm-pagination d-flex">
                  <li class="dm-pagination__item">
                    <a
                      href="#"
                      class="dm-pagination__link pagination-control"
                      ><span class="la la-angle-left"></span
                    ></a>
                    <a href="/users_list/?page=1" class="dm-pagination__link"
                      ><span class="page-number">1</span></a
                    >
                    <a href="/users_list/?page=2" class="dm-pagination__link active"
                      ><span class="page-number">2</span></a
                    >
                    <a href="#" class="dm-pagination__link"
                      ><span class="page-number">3</span></a
                    >
                    <a
                      href="#"
                      class="dm-pagination__link pagination-control"
                      ><span class="page-number">...</span></a
                    >
                    <a href="#" class="dm-pagination__link"
                      ><span class="page-number">12</span></a
                    >
                    <a
                      href="#"
                      class="dm-pagination__link pagination-control"
                      ><span class="la la-angle-right"></span
                    ></a>
                    <a href="#" class="dm-pagination__option"> </a>
                  </li>
                  <li class="dm-pagination__item">
                    <div class="paging-option">
                      <select name="page-number" class="page-selection">
                        <option value="20">20/page</option>
                        <option value="40">40/page</option>
                        <option value="60">60/page</option>
                      </select>
                    </div>
                  </li>
                </ul>
              </nav>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <%- include("../includes/footer.ejs") %>
  <script src="https://cdn.datatables.net/1.13.3/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.3/js/dataTables.bootstrap4.min.js"></script>
  <script>
$(document).ready(function () {
    $('#datatables').DataTable();
});
  </script>